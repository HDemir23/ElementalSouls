â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ELEMENTAL SOULS - MONAD HACKATHON PROJECT SPECIFICATION
  Version: 2.0 (Revised & Scalable)
  Last Updated: 2025-10-04
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TABLE OF CONTENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Project Overview
2. Smart Contract Specification (Revised)
3. Backend Architecture
4. Frontend Architecture
5. AI Image Generation Pipeline
6. Task System & Gamification
7. Scalability Considerations
8. Security Requirements
9. Deployment Strategy
10. Timeline & Milestones

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1. PROJECT OVERVIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

NAME: Elemental Souls
TAGLINE: "Evolve Your Spirit Through Action"

CONCEPT:
A gamified Soulbound NFT system where users mint elemental companions (Fire,
Water, Earth, Air) that evolve through completing real-world and on-chain tasks.
Each evolution generates a UNIQUE AI-generated image while maintaining the
core elemental identity.

CORE MECHANICS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mint (Lvl 0) â†’ Task Completion â†’ Evolve (Lvl 1) â†’ Tasks â†’ Evolve (Lvl 2)â”‚
â”‚     â†“                                  â†“                        â†“        â”‚
â”‚  Egg Form                          Baby Form               Adult Form    â”‚
â”‚  (Generic)                      (AI-Generated)          (AI-Generated)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

KEY FEATURES:
âœ“ Soulbound (non-transferable) to prevent mercenary behavior
âœ“ Progressive evolution system (10 levels planned)
âœ“ AI-generated unique artwork per evolution
âœ“ Task-gated progression (prevents pay-to-win)
âœ“ EIP-712 signature authorization for gas-free task validation
âœ“ Element-based rarity and trait system

TARGET METRICS:
- 10,000 initial mints
- 50+ tasks across 10 levels
- Average 3-5 days per evolution
- 90-day complete journey (lvl 0 â†’ lvl 10)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2. SMART CONTRACT SPECIFICATION (REVISED)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CONTRACT NAME: ElementalSouls
STANDARD: ERC-721 (Modified Soulbound)
COMPILER: Solidity ^0.8.24
DEPENDENCIES: OpenZeppelin v5.x (ERC721, AccessControl, ReentrancyGuard, ECDSA)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2.1 TOKEN METADATA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

NAME: "Elemental Souls"
SYMBOL: "ESOUL"
MAX SUPPLY: 10,000 (configurable via constant)

ELEMENT TYPES (uint8):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Value â”‚ Name     â”‚ Color Theme â”‚ Rarity Weight    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   0   â”‚ Fire     â”‚ Red/Orange  â”‚ 25% (common)     â”‚
â”‚   1   â”‚ Water    â”‚ Blue/Cyan   â”‚ 25% (common)     â”‚
â”‚   2   â”‚ Earth    â”‚ Green/Brown â”‚ 25% (common)     â”‚
â”‚   3   â”‚ Air      â”‚ White/Gray  â”‚ 25% (common)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FUTURE EXTENSIONS (Post-Hackathon):
- Element 4: Light (10% rare)
- Element 5: Shadow (10% rare)
- Element 6: Aether (5% mythic)

LEVEL PROGRESSION:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Level â”‚ Form Name    â”‚ Tasks Required  â”‚ Estimated Time               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   0   â”‚ Egg          â”‚ 0 (mint)        â”‚ Instant                      â”‚
â”‚   1   â”‚ Hatchling    â”‚ 3 tasks         â”‚ 1-2 days                     â”‚
â”‚   2   â”‚ Juvenile     â”‚ 5 tasks         â”‚ 2-3 days                     â”‚
â”‚   3   â”‚ Adolescent   â”‚ 7 tasks         â”‚ 3-5 days                     â”‚
â”‚   4   â”‚ Young Adult  â”‚ 10 tasks        â”‚ 5-7 days                     â”‚
â”‚   5   â”‚ Mature       â”‚ 12 tasks        â”‚ 7-10 days                    â”‚
â”‚   6   â”‚ Veteran      â”‚ 15 tasks        â”‚ 10-14 days                   â”‚
â”‚   7   â”‚ Elder        â”‚ 18 tasks        â”‚ 14-21 days                   â”‚
â”‚   8   â”‚ Ancient      â”‚ 22 tasks        â”‚ 21-30 days                   â”‚
â”‚   9   â”‚ Mythic       â”‚ 25 tasks        â”‚ 30-45 days                   â”‚
â”‚  10   â”‚ Transcendent â”‚ 30 tasks        â”‚ 45-60 days (final form)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2.2 ROLE-BASED ACCESS CONTROL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ROLES (bytes32 via AccessControl):

1. DEFAULT_ADMIN_ROLE (0x00)
   - Deployer wallet (multi-sig recommended for mainnet)
   - Can grant/revoke all roles
   - Emergency pause/unpause
   - Update global config (max supply, max level)

2. MINTER_ROLE = keccak256("MINTER_ROLE")
   - Public mint function (anyone can call)
   - Backend service for sponsored mints
   - Rate limiting: max 1 mint per address (configurable)

3. SIGNER_ROLE = keccak256("SIGNER_ROLE")
   - Backend service that validates tasks
   - Signs EIP-712 evolution permits
   - Can be rotated via ADMIN_ROLE

4. ADMIN_ROLE = keccak256("ADMIN_ROLE")
   - Update signer address
   - Update base URI patterns
   - Manage emergency functions

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2.3 STATE VARIABLES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// Core NFT data
uint256 private _tokenIdCounter;                    // Auto-increment counter
uint256 public constant MAX_SUPPLY = 10000;         // Hard cap
uint256 public constant MAX_LEVEL = 10;             // Progression cap
mapping(uint256 => uint8) public tokenLevel;        // tokenId => current level
mapping(uint256 => uint8) public tokenElement;      // tokenId => element (immutable)
mapping(uint256 => uint256) public tokenNonce;      // tokenId => replay protection
mapping(uint256 => string) private _tokenURIs;      // tokenId => IPFS metadata URI

// Evolution tracking
mapping(uint256 => uint256) public lastEvolveTime;  // tokenId => timestamp
mapping(uint256 => uint256) public totalEvolutions; // tokenId => evolution count

// Signer management
address public authorizedSigner;                    // EIP-712 signature validator
mapping(address => uint256) public userMintCount;   // Anti-spam: 1 mint per address

// Pausing (emergency)
bool public paused;

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2.4 EVENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

event Minted(
    address indexed owner,
    uint256 indexed tokenId,
    uint8 element,
    string uri
);

event Evolved(
    address indexed owner,
    uint256 indexed tokenId,
    uint8 fromLevel,
    uint8 toLevel,
    string newUri,
    uint256 timestamp
);

event SignerUpdated(
    address indexed oldSigner,
    address indexed newSigner,
    uint256 timestamp
);

event EmergencyPause(bool paused, address admin);

// Analytics events (for frontend/indexer)
event EvolutionMilestone(
    uint256 indexed tokenId,
    uint8 level,
    string milestone  // e.g., "FIRST_ADULT", "MAX_LEVEL"
);

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2.5 CONSTRUCTOR
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

constructor(address _initialSigner) ERC721("Elemental Souls", "ESOUL") {
    require(_initialSigner != address(0), "Invalid signer");

    _grantRole(DEFAULT_ADMIN_ROLE, msg.sender);
    _grantRole(ADMIN_ROLE, msg.sender);
    _grantRole(MINTER_ROLE, msg.sender);
    _grantRole(SIGNER_ROLE, _initialSigner);

    authorizedSigner = _initialSigner;
    paused = false;
}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2.6 CORE FUNCTIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ FUNCTION: mint                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function mint(
    address to,
    uint8 element,
    string calldata uri
) external onlyRole(MINTER_ROLE) whenNotPaused returns (uint256) {

    // Validations
    require(_tokenIdCounter < MAX_SUPPLY, "Max supply reached");
    require(element <= 3, "Invalid element");  // 0-3 for base elements
    require(userMintCount[to] == 0, "Already minted");
    require(to != address(0), "Invalid recipient");

    uint256 tokenId = _tokenIdCounter++;

    _safeMint(to, tokenId);

    tokenElement[tokenId] = element;
    tokenLevel[tokenId] = 0;
    tokenNonce[tokenId] = 0;
    _tokenURIs[tokenId] = uri;
    lastEvolveTime[tokenId] = block.timestamp;
    userMintCount[to] = 1;

    emit Minted(to, tokenId, element, uri);

    return tokenId;
}

RATIONALE:
- One mint per address prevents Sybil farming
- MINTER_ROLE allows flexible access (public mint or sponsored)
- URI passed at mint allows pre-generated egg metadata

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ FUNCTION: evolve (EIP-712 Signature-Gated)                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

struct EvolvePermit {
    address owner;
    uint256 tokenId;
    uint8 fromLevel;
    uint8 toLevel;
    uint256 deadline;
    uint256 nonce;
    string newURI;
}

function evolve(
    EvolvePermit calldata permit,
    bytes calldata signature
) external nonReentrant whenNotPaused {

    // Ownership validation
    address tokenOwner = ownerOf(permit.tokenId);
    require(msg.sender == tokenOwner, "Not token owner");
    require(permit.owner == tokenOwner, "Owner mismatch");

    // Temporal validation
    require(block.timestamp <= permit.deadline, "Permit expired");

    // Nonce validation (replay protection)
    require(permit.nonce == tokenNonce[permit.tokenId], "Invalid nonce");

    // Level validation
    uint8 currentLevel = tokenLevel[permit.tokenId];
    require(permit.fromLevel == currentLevel, "Level mismatch");
    require(permit.toLevel == currentLevel + 1, "Invalid level progression");
    require(permit.toLevel <= MAX_LEVEL, "Max level exceeded");

    // EIP-712 signature validation
    bytes32 structHash = keccak256(abi.encode(
        keccak256("EvolvePermit(address owner,uint256 tokenId,uint8 fromLevel,uint8 toLevel,uint256 deadline,uint256 nonce,string newURI)"),
        permit.owner,
        permit.tokenId,
        permit.fromLevel,
        permit.toLevel,
        permit.deadline,
        permit.nonce,
        keccak256(bytes(permit.newURI))
    ));

    bytes32 digest = _hashTypedDataV4(structHash);
    address recoveredSigner = ECDSA.recover(digest, signature);

    require(recoveredSigner == authorizedSigner, "Invalid signature");

    // Apply evolution
    tokenNonce[permit.tokenId]++;
    tokenLevel[permit.tokenId] = permit.toLevel;
    _tokenURIs[permit.tokenId] = permit.newURI;
    lastEvolveTime[permit.tokenId] = block.timestamp;
    totalEvolutions[permit.tokenId]++;

    emit Evolved(
        permit.owner,
        permit.tokenId,
        permit.fromLevel,
        permit.toLevel,
        permit.newURI,
        block.timestamp
    );

    // Milestone tracking
    if (permit.toLevel == 5) {
        emit EvolutionMilestone(permit.tokenId, permit.toLevel, "MATURE_FORM");
    } else if (permit.toLevel == MAX_LEVEL) {
        emit EvolutionMilestone(permit.tokenId, permit.toLevel, "TRANSCENDENT");
    }
}

SECURITY FEATURES:
âœ“ Nonce prevents replay attacks
âœ“ Deadline prevents stale signatures
âœ“ Level progression enforced (+1 only)
âœ“ Owner verification (msg.sender + permit.owner)
âœ“ ReentrancyGuard on external calls

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ FUNCTION: tokenURI (Metadata Override)                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function tokenURI(uint256 tokenId)
    public
    view
    virtual
    override
    returns (string memory)
{
    _requireOwned(tokenId);  // OZ v5 pattern
    return _tokenURIs[tokenId];
}

METADATA STRUCTURE (JSON stored on IPFS):
{
  "name": "Fire Soul #1234 - Hatchling",
  "description": "A young fire elemental awakening from its egg",
  "image": "ipfs://QmXXX.../fire_hatchling_1234.png",
  "attributes": [
    {"trait_type": "Element", "value": "Fire"},
    {"trait_type": "Level", "value": 1},
    {"trait_type": "Form", "value": "Hatchling"},
    {"trait_type": "Generation", "value": "AI-Generated"},
    {"trait_type": "Evolution Count", "value": 1},
    {"trait_type": "Birth Date", "value": 1728000000}
  ]
}

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ SOULBOUND ENFORCEMENT (Transfer Locks)                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Override all transfer functions to revert:

function approve(address, uint256) public virtual override {
    revert("SBT: transfers disabled");
}

function setApprovalForAll(address, bool) public virtual override {
    revert("SBT: transfers disabled");
}

function transferFrom(address, address, uint256) public virtual override {
    revert("SBT: transfers disabled");
}

function safeTransferFrom(address, address, uint256, bytes memory)
    public
    virtual
    override
{
    revert("SBT: transfers disabled");
}

EXCEPTION (Future Consideration):
For account migration, add optional admin-approved transfer:

function emergencyTransfer(
    uint256 tokenId,
    address newOwner,
    bytes calldata proof
) external onlyRole(DEFAULT_ADMIN_ROLE) {
    // Require signed proof from old owner + cooldown period
}

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ADMIN FUNCTIONS                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function updateSigner(address newSigner)
    external
    onlyRole(ADMIN_ROLE)
{
    require(newSigner != address(0), "Invalid signer");
    address oldSigner = authorizedSigner;
    authorizedSigner = newSigner;
    emit SignerUpdated(oldSigner, newSigner, block.timestamp);
}

function togglePause() external onlyRole(DEFAULT_ADMIN_ROLE) {
    paused = !paused;
    emit EmergencyPause(paused, msg.sender);
}

modifier whenNotPaused() {
    require(!paused, "Contract paused");
    _;
}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2.7 EIP-712 DOMAIN CONFIGURATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Using OpenZeppelin's EIP712 base contract:

contract ElementalSouls is ERC721, AccessControl, ReentrancyGuard, EIP712 {

    constructor(address _signer)
        ERC721("Elemental Souls", "ESOUL")
        EIP712("ElementalSoulsEvolver", "1")
    {
        // ... constructor logic
    }
}

DOMAIN SEPARATOR:
{
    name: "ElementalSoulsEvolver",
    version: "1",
    chainId: <Monad Chain ID>,
    verifyingContract: <deployed contract address>
}

TYPE HASH:
keccak256("EvolvePermit(address owner,uint256 tokenId,uint8 fromLevel,uint8 toLevel,uint256 deadline,uint256 nonce,string newURI)")

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
3. BACKEND ARCHITECTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STACK:
- Runtime: Node.js 20+ (TypeScript)
- Framework: Fastify (30% faster than Express)
- Database: PostgreSQL 16 + Redis (caching)
- Queue: BullMQ (task processing)
- Web3: viem v2 (EIP-712 signing)
- Storage: NFT.Storage SDK (IPFS pinning)
- AI: Replicate API (Flux-1-Schnell for speed)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3.1 SYSTEM ARCHITECTURE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend   â”‚â”€â”€â”€â”€â”€â–¶â”‚  API Gateway â”‚â”€â”€â”€â”€â”€â–¶â”‚  Database   â”‚
â”‚  (Next.js)  â”‚      â”‚  (Fastify)   â”‚      â”‚ (Postgres)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Task Verifier â”‚  â”‚   Signer    â”‚
            â”‚   Service     â”‚  â”‚   Service   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                 â”‚
                    â–¼                 â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   AI Image    â”‚  â”‚ IPFS Upload â”‚
            â”‚  Generator    â”‚  â”‚   Service   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3.2 DATABASE SCHEMA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

TABLE: users
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Column      â”‚ Type         â”‚ Description                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id          â”‚ SERIAL PK    â”‚ Auto-increment ID                   â”‚
â”‚ address     â”‚ VARCHAR(42)  â”‚ Ethereum address (UNIQUE)           â”‚
â”‚ token_id    â”‚ INTEGER      â”‚ Owned NFT token ID (nullable)       â”‚
â”‚ created_at  â”‚ TIMESTAMP    â”‚ Registration time                   â”‚
â”‚ last_active â”‚ TIMESTAMP    â”‚ Last interaction                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TABLE: tasks
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Column           â”‚ Type         â”‚ Description                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id               â”‚ VARCHAR(50)  â”‚ Unique task ID (PK)              â”‚
â”‚ name             â”‚ VARCHAR(200) â”‚ Display name                     â”‚
â”‚ description      â”‚ TEXT         â”‚ Task instructions                â”‚
â”‚ category         â”‚ VARCHAR(50)  â”‚ social/onchain/quest             â”‚
â”‚ required_level   â”‚ SMALLINT     â”‚ Min NFT level to unlock          â”‚
â”‚ points           â”‚ INTEGER      â”‚ Reward points                    â”‚
â”‚ verification_typeâ”‚ VARCHAR(50)  â”‚ manual/auto/signature            â”‚
â”‚ is_active        â”‚ BOOLEAN      â”‚ Enable/disable task              â”‚
â”‚ created_at       â”‚ TIMESTAMP    â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TABLE: task_completions
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Column       â”‚ Type         â”‚ Description                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id           â”‚ SERIAL PK    â”‚                                    â”‚
â”‚ user_address â”‚ VARCHAR(42)  â”‚ FK to users.address                â”‚
â”‚ task_id      â”‚ VARCHAR(50)  â”‚ FK to tasks.id                     â”‚
â”‚ token_id     â”‚ INTEGER      â”‚ NFT used for completion            â”‚
â”‚ proof        â”‚ JSONB        â”‚ Screenshot/tx hash/etc             â”‚
â”‚ status       â”‚ VARCHAR(20)  â”‚ pending/approved/rejected          â”‚
â”‚ completed_at â”‚ TIMESTAMP    â”‚                                    â”‚
â”‚ verified_by  â”‚ VARCHAR(42)  â”‚ Admin address (for manual)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TABLE: evolution_history
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Column       â”‚ Type         â”‚ Description                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id           â”‚ SERIAL PK    â”‚                                    â”‚
â”‚ token_id     â”‚ INTEGER      â”‚ NFT token ID                       â”‚
â”‚ from_level   â”‚ SMALLINT     â”‚ Previous level                     â”‚
â”‚ to_level     â”‚ SMALLINT     â”‚ New level                          â”‚
â”‚ metadata_uri â”‚ TEXT         â”‚ IPFS URI for new metadata          â”‚
â”‚ image_uri    â”‚ TEXT         â”‚ IPFS URI for AI image              â”‚
â”‚ tx_hash      â”‚ VARCHAR(66)  â”‚ Blockchain tx hash                 â”‚
â”‚ evolved_at   â”‚ TIMESTAMP    â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TABLE: pending_signatures
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Column       â”‚ Type         â”‚ Description                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id           â”‚ UUID PK      â”‚                                    â”‚
â”‚ user_address â”‚ VARCHAR(42)  â”‚                                    â”‚
â”‚ token_id     â”‚ INTEGER      â”‚                                    â”‚
â”‚ permit_hash  â”‚ VARCHAR(66)  â”‚ Hash of EvolvePermit struct        â”‚
â”‚ signature    â”‚ TEXT         â”‚ EIP-712 signature (hex)            â”‚
â”‚ deadline     â”‚ BIGINT       â”‚ Unix timestamp                     â”‚
â”‚ is_used      â”‚ BOOLEAN      â”‚ Prevent reuse                      â”‚
â”‚ created_at   â”‚ TIMESTAMP    â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

INDEXES:
CREATE INDEX idx_users_address ON users(address);
CREATE INDEX idx_task_completions_status ON task_completions(status);
CREATE INDEX idx_pending_sigs_unused ON pending_signatures(is_used) WHERE is_used = false;

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3.3 API ENDPOINTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

BASE URL: https://api.elementalsouls.xyz

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ AUTH: All endpoints require JWT or SIWE (Sign-In With Ethereum)          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

POST /auth/login
Request:
{
  "message": "Sign in to Elemental Souls\nNonce: abc123",
  "signature": "0x..."
}
Response:
{
  "token": "eyJhbGc...",
  "user": {
    "address": "0x1234...",
    "tokenId": 42,
    "level": 3
  }
}

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ USER ENDPOINTS                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GET /user/profile
Response:
{
  "address": "0x1234...",
  "tokenId": 42,
  "element": 0,
  "level": 3,
  "totalEvolutions": 3,
  "completedTasks": 15,
  "availableTasks": 7,
  "nextLevelRequirements": {
    "tasksNeeded": 10,
    "tasksCompleted": 15
  }
}

GET /user/nft/:tokenId
Response:
{
  "tokenId": 42,
  "owner": "0x1234...",
  "element": "Fire",
  "level": 3,
  "currentForm": "Adolescent",
  "metadata": {
    "name": "Fire Soul #42 - Adolescent",
    "image": "ipfs://Qm...",
    "attributes": [...]
  },
  "evolutionHistory": [
    {
      "level": 1,
      "timestamp": "2025-10-01T12:00:00Z",
      "image": "ipfs://..."
    },
    ...
  ]
}

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ TASK ENDPOINTS                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GET /tasks/available?level=3
Response:
{
  "tasks": [
    {
      "id": "follow-twitter",
      "name": "Follow @ElementalSouls on Twitter",
      "description": "Follow our official Twitter account",
      "category": "social",
      "requiredLevel": 0,
      "points": 10,
      "verificationType": "manual",
      "isCompleted": false
    },
    {
      "id": "swap-tokens",
      "name": "Make a swap on MonadSwap",
      "description": "Perform any token swap on MonadSwap DEX",
      "category": "onchain",
      "requiredLevel": 2,
      "points": 50,
      "verificationType": "auto",
      "isCompleted": true
    }
  ]
}

POST /tasks/submit
Request:
{
  "taskId": "follow-twitter",
  "tokenId": 42,
  "proof": {
    "type": "screenshot",
    "url": "https://imgur.com/...",  // or base64
    "handle": "@myusername"
  }
}
Response:
{
  "status": "pending",
  "message": "Task submitted for review",
  "estimatedReviewTime": "1-24 hours"
}

POST /tasks/verify (Admin Only)
Request:
{
  "completionId": 123,
  "approved": true,
  "adminNote": "Verified"
}

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ EVOLUTION ENDPOINTS                                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

POST /evolution/check-eligibility
Request:
{
  "tokenId": 42
}
Response:
{
  "eligible": true,
  "currentLevel": 3,
  "nextLevel": 4,
  "requirements": {
    "totalTasksNeeded": 10,
    "completedTasks": 12,
    "missingTasks": []
  }
}

POST /evolution/request
Request:
{
  "tokenId": 42,
  "targetLevel": 4
}
Response (Success):
{
  "jobId": "uuid-1234",
  "status": "processing",
  "estimatedTime": "60-120 seconds",
  "message": "AI is generating your new form..."
}

Response (Error):
{
  "error": "INSUFFICIENT_TASKS",
  "message": "You need 2 more tasks to evolve",
  "missingTasks": ["task-id-1", "task-id-2"]
}

GET /evolution/status/:jobId
Response (Processing):
{
  "status": "processing",
  "progress": 45,
  "stage": "ai_generation"  // stages: validation â†’ ai_generation â†’ ipfs_upload â†’ signing â†’ ready
}

Response (Complete):
{
  "status": "ready",
  "permitSignature": {
    "permit": {
      "owner": "0x1234...",
      "tokenId": 42,
      "fromLevel": 3,
      "toLevel": 4,
      "deadline": 1728086400,
      "nonce": 3,
      "newURI": "ipfs://Qm..."
    },
    "signature": "0xabcd..."
  },
  "preview": {
    "imageUrl": "ipfs://Qm.../preview.png",
    "metadata": {...}
  }
}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3.4 SIGNATURE SERVICE (EIP-712 Signer)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

FILE: backend/src/services/signer.service.ts

import { createWalletClient, http } from 'viem';
import { privateKeyToAccount } from 'viem/accounts';
import { monadTestnet } from './chains';

const DOMAIN = {
  name: 'ElementalSoulsEvolver',
  version: '1',
  chainId: monadTestnet.id,
  verifyingContract: process.env.CONTRACT_ADDRESS as `0x${string}`,
};

const TYPES = {
  EvolvePermit: [
    { name: 'owner', type: 'address' },
    { name: 'tokenId', type: 'uint256' },
    { name: 'fromLevel', type: 'uint8' },
    { name: 'toLevel', type: 'uint8' },
    { name: 'deadline', type: 'uint256' },
    { name: 'nonce', type: 'uint256' },
    { name: 'newURI', type: 'string' },
  ],
};

export class SignerService {
  private account;
  private walletClient;

  constructor() {
    this.account = privateKeyToAccount(
      process.env.SIGNER_PRIVATE_KEY as `0x${string}`
    );
    this.walletClient = createWalletClient({
      account: this.account,
      chain: monadTestnet,
      transport: http(),
    });
  }

  async signEvolvePermit(permit: EvolvePermit): Promise<`0x${string}`> {
    const signature = await this.walletClient.signTypedData({
      domain: DOMAIN,
      types: TYPES,
      primaryType: 'EvolvePermit',
      message: permit,
    });

    return signature;
  }

  async verifySignature(
    permit: EvolvePermit,
    signature: `0x${string}`
  ): Promise<boolean> {
    const recovered = await verifyTypedData({
      domain: DOMAIN,
      types: TYPES,
      primaryType: 'EvolvePermit',
      message: permit,
      signature,
    });
    return recovered === this.account.address;
  }
}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3.5 TASK VERIFICATION SERVICE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

TASK CATEGORIES & VERIFICATION METHODS:

1. SOCIAL TASKS (Manual Verification)
   â”œâ”€ Follow Twitter â†’ Screenshot + API verification (optional)
   â”œâ”€ Join Discord â†’ Discord OAuth verification
   â”œâ”€ Retweet/Like â†’ Twitter API scraping
   â””â”€ Referral â†’ On-chain tracking via custom link

2. ON-CHAIN TASKS (Auto Verification)
   â”œâ”€ Swap on DEX â†’ Monitor swap events via RPC
   â”œâ”€ Bridge assets â†’ Monitor bridge contract events
   â”œâ”€ Stake tokens â†’ Check staking contract balance
   â””â”€ NFT interactions â†’ Track NFT transfer events

3. QUEST TASKS (Hybrid)
   â”œâ”€ Complete tutorial â†’ Frontend state + backend confirmation
   â”œâ”€ Daily login â†’ Session tracking (7-day streak)
   â””â”€ Community vote â†’ Snapshot.org integration

EXAMPLE: Auto-Verification for DEX Swap

FILE: backend/src/verifiers/onchain.verifier.ts

import { createPublicClient, http, parseAbiItem } from 'viem';

export class OnChainVerifier {
  private publicClient;

  constructor() {
    this.publicClient = createPublicClient({
      chain: monadTestnet,
      transport: http(process.env.MONAD_RPC_URL),
    });
  }

  async verifyDEXSwap(userAddress: `0x${string}`): Promise<boolean> {
    const swapEvent = parseAbiItem(
      'event Swap(address indexed sender, uint amount0In, uint amount1In, uint amount0Out, uint amount1Out)'
    );

    const logs = await this.publicClient.getLogs({
      address: DEX_CONTRACT_ADDRESS,
      event: swapEvent,
      args: {
        sender: userAddress,
      },
      fromBlock: 'earliest',
      toBlock: 'latest',
    });

    return logs.length > 0;
  }
}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3.6 RATE LIMITING & SECURITY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

RATE LIMITS (using @fastify/rate-limit):

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Endpoint             â”‚ Limit    â”‚ Window                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ POST /auth/login     â”‚ 5/min    â”‚ Per IP                  â”‚
â”‚ POST /tasks/submit   â”‚ 10/hour  â”‚ Per user                â”‚
â”‚ POST /evolution/*    â”‚ 3/day    â”‚ Per tokenId             â”‚
â”‚ GET endpoints        â”‚ 100/min  â”‚ Per user                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SECURITY MEASURES:
âœ“ Helmet.js for HTTP headers
âœ“ CORS whitelist (frontend domain only)
âœ“ Input validation (Zod schemas)
âœ“ SQL injection prevention (Parameterized queries)
âœ“ API key rotation (weekly)
âœ“ Cloudflare DDoS protection
âœ“ Signer private key in AWS Secrets Manager

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
4. FRONTEND ARCHITECTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STACK:
- Framework: Next.js 14 (App Router)
- Web3: wagmi v2 + viem
- Wallet: RainbowKit (multi-wallet support)
- UI: TailwindCSS + shadcn/ui
- State: Zustand (lightweight vs Redux)
- Queries: TanStack Query (React Query)
- Charts: Recharts (evolution stats)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
4.1 PROJECT STRUCTURE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

frontend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx                    # Root layout + Web3Provider
â”‚   â”œâ”€â”€ page.tsx                      # Landing page
â”‚   â”œâ”€â”€ mint/
â”‚   â”‚   â””â”€â”€ page.tsx                  # Mint interface
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ page.tsx                  # User dashboard
â”‚   â””â”€â”€ evolve/
â”‚       â””â”€â”€ page.tsx                  # Evolution interface
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ nft/
â”‚   â”‚   â”œâ”€â”€ NFTCard.tsx               # Display NFT with metadata
â”‚   â”‚   â”œâ”€â”€ ElementSelector.tsx       # Choose Fire/Water/Earth/Air
â”‚   â”‚   â””â”€â”€ EvolutionPreview.tsx      # Before/after comparison
â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â”œâ”€â”€ TaskList.tsx              # Available tasks grid
â”‚   â”‚   â”œâ”€â”€ TaskCard.tsx              # Individual task
â”‚   â”‚   â””â”€â”€ TaskSubmitModal.tsx       # Upload proof
â”‚   â”œâ”€â”€ ui/                           # shadcn/ui components
â”‚   â””â”€â”€ Web3Provider.tsx              # wagmi + RainbowKit config
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useContract.ts                # ElementalSouls contract hooks
â”‚   â”œâ”€â”€ useNFT.ts                     # Fetch NFT data
â”‚   â”œâ”€â”€ useTasks.ts                   # Task CRUD operations
â”‚   â””â”€â”€ useEvolution.ts               # Evolution workflow
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ contracts/
â”‚   â”‚   â”œâ”€â”€ abi.ts                    # Contract ABI
â”‚   â”‚   â””â”€â”€ addresses.ts              # Deployed addresses
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ client.ts                 # Axios instance for backend
â””â”€â”€ public/
    â””â”€â”€ elements/                      # Base element images (lvl 0)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
4.2 KEY COMPONENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ COMPONENT: ElementSelector                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FILE: components/nft/ElementSelector.tsx

'use client';
import { useState } from 'react';
import Image from 'next/image';

const ELEMENTS = [
  { id: 0, name: 'Fire', color: 'from-red-500 to-orange-500', icon: 'ğŸ”¥' },
  { id: 1, name: 'Water', color: 'from-blue-500 to-cyan-500', icon: 'ğŸ’§' },
  { id: 2, name: 'Earth', color: 'from-green-500 to-emerald-500', icon: 'ğŸŒ' },
  { id: 3, name: 'Air', color: 'from-gray-300 to-slate-400', icon: 'ğŸ’¨' },
];

export function ElementSelector({
  onSelect
}: {
  onSelect: (element: number) => void
}) {
  const [selected, setSelected] = useState<number | null>(null);

  return (
    <div className="grid grid-cols-2 gap-4 md:grid-cols-4">
      {ELEMENTS.map((elem) => (
        <button
          key={elem.id}
          onClick={() => {
            setSelected(elem.id);
            onSelect(elem.id);
          }}
          className={`
            relative aspect-square rounded-xl p-6 transition-all
            ${selected === elem.id ? 'ring-4 ring-white scale-105' : 'opacity-70'}
            bg-gradient-to-br ${elem.color}
            hover:scale-105 hover:opacity-100
          `}
        >
          <div className="text-6xl">{elem.icon}</div>
          <div className="mt-2 text-xl font-bold text-white">{elem.name}</div>
        </button>
      ))}
    </div>
  );
}

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ HOOK: useContract (wagmi Integration)                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FILE: hooks/useContract.ts

import { useReadContract, useWriteContract, useWaitForTransactionReceipt } from 'wagmi';
import { ELEMENTAL_SOULS_ABI } from '@/lib/contracts/abi';
import { ELEMENTAL_SOULS_ADDRESS } from '@/lib/contracts/addresses';

export function useElementalSouls() {
  const { writeContractAsync } = useWriteContract();

  // Read NFT level
  const useTokenLevel = (tokenId: bigint) => {
    return useReadContract({
      address: ELEMENTAL_SOULS_ADDRESS,
      abi: ELEMENTAL_SOULS_ABI,
      functionName: 'tokenLevel',
      args: [tokenId],
    });
  };

  // Mint NFT
  const mint = async (to: `0x${string}`, element: number, uri: string) => {
    const hash = await writeContractAsync({
      address: ELEMENTAL_SOULS_ADDRESS,
      abi: ELEMENTAL_SOULS_ABI,
      functionName: 'mint',
      args: [to, element, uri],
    });
    return hash;
  };

  // Evolve NFT
  const evolve = async (permit: EvolvePermit, signature: `0x${string}`) => {
    const hash = await writeContractAsync({
      address: ELEMENTAL_SOULS_ADDRESS,
      abi: ELEMENTAL_SOULS_ABI,
      functionName: 'evolve',
      args: [permit, signature],
    });
    return hash;
  };

  return { useTokenLevel, mint, evolve };
}

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ PAGE: Evolution Interface                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FILE: app/evolve/page.tsx

'use client';
import { useState } from 'react';
import { useAccount } from 'wagmi';
import { useEvolution } from '@/hooks/useEvolution';
import { EvolutionPreview } from '@/components/nft/EvolutionPreview';

export default function EvolvePage() {
  const { address } = useAccount();
  const { checkEligibility, requestEvolution, confirmEvolution } = useEvolution();
  const [step, setStep] = useState<'check' | 'generate' | 'confirm'>('check');

  const handleEvolve = async () => {
    // Step 1: Check eligibility
    const eligible = await checkEligibility(tokenId);
    if (!eligible.canEvolve) {
      toast.error(`Need ${eligible.missingTasks} more tasks`);
      return;
    }

    setStep('generate');

    // Step 2: Request AI generation + signature
    const job = await requestEvolution(tokenId);

    // Poll for completion
    const result = await pollEvolutionStatus(job.jobId);

    setStep('confirm');

    // Step 3: Show preview + confirm on-chain
    // User clicks "Evolve" button
  };

  return (
    <div className="container mx-auto py-12">
      {step === 'check' && <EligibilityCheck onEvolve={handleEvolve} />}
      {step === 'generate' && <LoadingAnimation message="AI is forging your new form..." />}
      {step === 'confirm' && <EvolutionPreview onConfirm={confirmEvolution} />}
    </div>
  );
}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
4.3 WEB3 CONFIGURATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

FILE: components/Web3Provider.tsx

'use client';
import { WagmiProvider, createConfig, http } from 'wagmi';
import { monadTestnet } from 'wagmi/chains';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { RainbowKitProvider, getDefaultConfig } from '@rainbow-me/rainbowkit';

const config = getDefaultConfig({
  appName: 'Elemental Souls',
  projectId: process.env.NEXT_PUBLIC_WALLETCONNECT_ID!,
  chains: [monadTestnet],
  transports: {
    [monadTestnet.id]: http(process.env.NEXT_PUBLIC_MONAD_RPC),
  },
});

const queryClient = new QueryClient();

export function Web3Provider({ children }: { children: React.ReactNode }) {
  return (
    <WagmiProvider config={config}>
      <QueryClientProvider client={queryClient}>
        <RainbowKitProvider>{children}</RainbowKitProvider>
      </QueryClientProvider>
    </WagmiProvider>
  );
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
5. AI IMAGE GENERATION PIPELINE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GOAL: Generate unique, consistent, element-themed NFT images for each evolution

CONSTRAINTS:
âœ“ Must maintain element theme (Fire = red/orange, Water = blue, etc.)
âœ“ Progressive complexity (lvl 1 = cute, lvl 10 = epic)
âœ“ Speed: <60 seconds per generation
âœ“ Cost: <$0.10 per image

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
5.1 AI MODEL SELECTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PRIMARY: Flux-1-Schnell (via Replicate)
- Speed: 2-5 seconds
- Cost: $0.003/generation
- Quality: High (1024x1024)
- Style consistency: Good with proper prompting

FALLBACK: SDXL-Lightning
- Speed: 3-8 seconds
- Cost: $0.002/generation
- Quality: Medium-High

FUTURE (Post-Hackathon): Fine-tuned LoRA
- Train custom LoRA on element styles
- Ensures perfect consistency

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
5.2 PROMPT ENGINEERING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PROMPT TEMPLATE:

{base_description}, {level_descriptor}, {element_theme}, {style_modifiers}

EXAMPLES:

Level 1 (Hatchling) - Fire:
"A cute baby fire elemental creature hatching from a cracked obsidian egg,
glowing ember eyes, tiny flame wisps, warm orange and red palette,
kawaii style, soft lighting, white background, digital art"

Level 5 (Mature) - Water:
"A majestic water spirit creature in full form, flowing aqua mane,
crystalline scales, bioluminescent blue accents, ocean depths atmosphere,
fantasy concept art, dramatic lighting, ethereal glow"

Level 10 (Transcendent) - Earth:
"An ancient colossal earth titan, mountain peaks as armor,
glowing green nature runes, vines and crystals merging,
epic fantasy art, cinematic lighting, godlike presence,
highly detailed, 8k quality"

DYNAMIC VARIABLES:

FILE: backend/src/ai/prompt-generator.ts

const LEVEL_DESCRIPTORS = {
  1: { size: 'tiny', mood: 'cute', detail: 'simple' },
  2: { size: 'small', mood: 'playful', detail: 'moderate' },
  3: { size: 'medium', mood: 'curious', detail: 'moderate' },
  4: { size: 'medium-large', mood: 'confident', detail: 'detailed' },
  5: { size: 'large', mood: 'majestic', detail: 'highly detailed' },
  6: { size: 'large', mood: 'powerful', detail: 'highly detailed' },
  7: { size: 'very large', mood: 'wise', detail: 'intricate' },
  8: { size: 'massive', mood: 'ancient', detail: 'intricate' },
  9: { size: 'colossal', mood: 'mythical', detail: 'masterpiece' },
  10: { size: 'titanic', mood: 'transcendent', detail: 'ultra detailed 8k' },
};

const ELEMENT_THEMES = {
  0: 'fire elemental, ember glow, flame particles, warm red-orange palette',
  1: 'water spirit, flowing liquid, splash effects, cool blue-cyan palette',
  2: 'earth guardian, stone texture, nature growth, green-brown earthy tones',
  3: 'air sylph, cloud wisps, wind currents, light gray-white ethereal palette',
};

export function generatePrompt(element: number, level: number, seed?: string): string {
  const descriptor = LEVEL_DESCRIPTORS[level];
  const theme = ELEMENT_THEMES[element];

  const prompt = `
    A ${descriptor.size} ${descriptor.mood} ${theme},
    ${descriptor.detail}, fantasy digital art, centered composition,
    clean white background, professional illustration
  `.trim();

  return prompt;
}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
5.3 IMAGE GENERATION SERVICE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

FILE: backend/src/services/ai-image.service.ts

import Replicate from 'replicate';

export class AIImageService {
  private replicate: Replicate;

  constructor() {
    this.replicate = new Replicate({
      auth: process.env.REPLICATE_API_TOKEN,
    });
  }

  async generateEvolutionImage(
    element: number,
    level: number,
    tokenId: number
  ): Promise<string> {
    const prompt = generatePrompt(element, level);
    const seed = this.generateSeed(tokenId, level); // Deterministic seed

    const output = await this.replicate.run(
      'black-forest-labs/flux-schnell',
      {
        input: {
          prompt,
          num_outputs: 1,
          aspect_ratio: '1:1',
          output_format: 'png',
          output_quality: 90,
          seed,
        },
      }
    );

    // output is array of URLs
    const imageUrl = output[0];

    // Download and re-upload to IPFS for permanence
    const ipfsUrl = await this.uploadToIPFS(imageUrl, tokenId, level);

    return ipfsUrl;
  }

  private generateSeed(tokenId: number, level: number): number {
    // Deterministic but unique per token+level
    return (tokenId * 1000 + level * 100 + Date.now()) % 2147483647;
  }

  private async uploadToIPFS(url: string, tokenId: number, level: number): Promise<string> {
    // Download image
    const response = await fetch(url);
    const blob = await response.blob();

    // Upload to NFT.Storage
    const client = new NFTStorage({ token: process.env.NFT_STORAGE_KEY });
    const cid = await client.storeBlob(blob);

    return `ipfs://${cid}`;
  }
}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
5.4 METADATA GENERATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

FILE: backend/src/services/metadata.service.ts

export class MetadataService {
  async createMetadata(
    tokenId: number,
    element: number,
    level: number,
    imageUri: string,
    evolutionCount: number
  ): Promise<string> {
    const metadata = {
      name: `${ELEMENT_NAMES[element]} Soul #${tokenId} - ${FORM_NAMES[level]}`,
      description: this.generateDescription(element, level),
      image: imageUri,
      attributes: [
        { trait_type: 'Element', value: ELEMENT_NAMES[element] },
        { trait_type: 'Level', value: level },
        { trait_type: 'Form', value: FORM_NAMES[level] },
        { trait_type: 'Evolution Count', value: evolutionCount },
        { trait_type: 'Generation Method', value: 'AI-Generated' },
        { trait_type: 'Rarity', value: this.calculateRarity(level) },
      ],
      external_url: `https://elementalsouls.xyz/nft/${tokenId}`,
    };

    // Upload metadata to IPFS
    const client = new NFTStorage({ token: process.env.NFT_STORAGE_KEY });
    const metadataBlob = new Blob([JSON.stringify(metadata)], {
      type: 'application/json'
    });
    const cid = await client.storeBlob(metadataBlob);

    return `ipfs://${cid}`;
  }

  private calculateRarity(level: number): string {
    if (level <= 2) return 'Common';
    if (level <= 5) return 'Uncommon';
    if (level <= 7) return 'Rare';
    if (level === 8) return 'Epic';
    if (level === 9) return 'Legendary';
    return 'Mythic';
  }
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
6. TASK SYSTEM & GAMIFICATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PHILOSOPHY: Tasks should be diverse, engaging, and anti-bot

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
6.1 TASK CATEGORIES & EXAMPLES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SOCIAL TASKS (Community Building):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task                       â”‚ Points  â”‚ Verification               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Follow Twitter             â”‚ 10      â”‚ Manual (screenshot)        â”‚
â”‚ Retweet announcement       â”‚ 15      â”‚ Twitter API (optional)     â”‚
â”‚ Join Discord               â”‚ 10      â”‚ Discord OAuth              â”‚
â”‚ Share referral (3 signups) â”‚ 50      â”‚ On-chain tracking          â”‚
â”‚ Create fan art             â”‚ 100     â”‚ Manual review              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ON-CHAIN TASKS (DeFi Engagement):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task                       â”‚ Points  â”‚ Verification               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Swap on MonadSwap          â”‚ 30      â”‚ Event log monitoring       â”‚
â”‚ Provide liquidity          â”‚ 50      â”‚ LP token balance check     â”‚
â”‚ Bridge from Ethereum       â”‚ 40      â”‚ Bridge contract events     â”‚
â”‚ Vote on governance         â”‚ 25      â”‚ Snapshot.org API           â”‚
â”‚ Stake MONAD tokens         â”‚ 60      â”‚ Staking contract balance   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

QUEST TASKS (Interactive):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task                       â”‚ Points  â”‚ Verification               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Complete tutorial          â”‚ 20      â”‚ Frontend state tracking    â”‚
â”‚ 7-day login streak         â”‚ 35      â”‚ Backend session logs       â”‚
â”‚ Explore 5 dApps            â”‚ 45      â”‚ Contract interaction logs  â”‚
â”‚ Refer 3 friends            â”‚ 75      â”‚ Referral code system       â”‚
â”‚ Participate in event       â”‚ 100     â”‚ Event-specific logic       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
6.2 LEVEL PROGRESSION TABLE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Level â”‚ Tasks Req'd â”‚ Total Pts   â”‚ Unlocked Tasks                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0â†’1   â”‚ 3           â”‚ 50          â”‚ Social basics                    â”‚
â”‚ 1â†’2   â”‚ 5           â”‚ 150         â”‚ + First DEX swap                 â”‚
â”‚ 2â†’3   â”‚ 7           â”‚ 300         â”‚ + Liquidity provision            â”‚
â”‚ 3â†’4   â”‚ 10          â”‚ 500         â”‚ + Governance participation       â”‚
â”‚ 4â†’5   â”‚ 12          â”‚ 750         â”‚ + Advanced DeFi (staking)        â”‚
â”‚ 5â†’6   â”‚ 15          â”‚ 1,100       â”‚ + Cross-chain tasks              â”‚
â”‚ 6â†’7   â”‚ 18          â”‚ 1,500       â”‚ + Community leadership           â”‚
â”‚ 7â†’8   â”‚ 22          â”‚ 2,000       â”‚ + Creator tasks (content)        â”‚
â”‚ 8â†’9   â”‚ 25          â”‚ 2,700       â”‚ + Exclusive events               â”‚
â”‚ 9â†’10  â”‚ 30          â”‚ 3,500       â”‚ + Final challenge (secret)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
6.3 TASK SEEDING (SQL)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

FILE: backend/db/seeds/tasks.sql

INSERT INTO tasks (id, name, description, category, required_level, points, verification_type, is_active) VALUES
-- Level 0 â†’ 1 (Starter Tasks)
('follow-twitter', 'Follow @ElementalSouls', 'Follow our Twitter account', 'social', 0, 10, 'manual', true),
('join-discord', 'Join Discord Server', 'Join our community Discord', 'social', 0, 10, 'auto', true),
('complete-tutorial', 'Complete Tutorial', 'Learn how to evolve your soul', 'quest', 0, 20, 'auto', true),

-- Level 1 â†’ 2
('first-swap', 'Make Your First Swap', 'Swap any tokens on MonadSwap', 'onchain', 1, 30, 'auto', true),
('retweet-launch', 'Retweet Launch Post', 'Share our launch announcement', 'social', 1, 15, 'manual', true),

-- Level 2 â†’ 3
('provide-liquidity', 'Become a Liquidity Provider', 'Add liquidity to any pool', 'onchain', 2, 50, 'auto', true),
('bridge-assets', 'Bridge from Ethereum', 'Bridge at least $10 to Monad', 'onchain', 2, 40, 'auto', true),

-- Add more tasks...

DYNAMIC TASK INJECTION:
- Event-based tasks (e.g., "Participate in Halloween event")
- Seasonal challenges
- Partnerships (e.g., "Use Protocol X")

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
7. SCALABILITY CONSIDERATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
7.1 SMART CONTRACT SCALABILITY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

GAS OPTIMIZATION:
âœ“ Use uint8 for level/element (vs uint256)
âœ“ Pack storage variables efficiently
âœ“ Minimal storage writes in evolve()
âœ“ Events for off-chain indexing (vs storage reads)

UPGRADE PATH (Post-Hackathon):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Option 1: Proxy Pattern (UUPS)                                      â”‚
â”‚ - Deploy new implementation contracts                               â”‚
â”‚ - Preserve tokenIds and state                                       â”‚
â”‚ - Add new elements/levels without redeployment                      â”‚
â”‚                                                                      â”‚
â”‚ Option 2: Modular Contracts                                         â”‚
â”‚ - Separate ElementRegistry, LevelManager, TaskValidator            â”‚
â”‚ - Update individual modules independently                           â”‚
â”‚ - Increases complexity but flexibility                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MULTI-CHAIN EXPANSION:
- Deploy same contract on other EVM chains (Base, Arbitrum, etc.)
- Use LayerZero/Hyperlane for cross-chain NFT teleportation
- Unified backend tracks all chains

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
7.2 BACKEND SCALABILITY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

HORIZONTAL SCALING:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load Balancer (Nginx/AWS ALB)                                  â”‚
â”‚         â–¼          â–¼           â–¼                                â”‚
â”‚    API Node 1  API Node 2  API Node 3                          â”‚
â”‚         â–¼          â–¼           â–¼                                â”‚
â”‚    Shared PostgreSQL (RDS Multi-AZ)                            â”‚
â”‚    Shared Redis Cluster (ElastiCache)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

JOB QUEUE ARCHITECTURE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Receives â”‚â”€â”€â”€â”€â”€â–¶â”‚  BullMQ     â”‚â”€â”€â”€â”€â”€â–¶â”‚ Worker Pool  â”‚
â”‚ Evolve Req   â”‚      â”‚  (Redis)    â”‚      â”‚ (3-5 nodes)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â–¼
                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                           â”‚ AI Service   â”‚
                                           â”‚ IPFS Upload  â”‚
                                           â”‚ DB Update    â”‚
                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CACHING STRATEGY:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Data Type              â”‚ Cache Layer  â”‚ TTL             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NFT metadata           â”‚ Redis        â”‚ 1 hour          â”‚
â”‚ Task list              â”‚ Redis        â”‚ 5 minutes       â”‚
â”‚ User profile           â”‚ Redis        â”‚ 10 minutes      â”‚
â”‚ Evolution history      â”‚ Postgres     â”‚ N/A (permanent) â”‚
â”‚ Available tasks        â”‚ CDN (static) â”‚ 1 hour          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DATABASE OPTIMIZATION:
-- Partition evolution_history by month
CREATE TABLE evolution_history (
    id SERIAL,
    token_id INTEGER,
    evolved_at TIMESTAMP,
    ...
) PARTITION BY RANGE (evolved_at);

-- Indexes
CREATE INDEX CONCURRENTLY idx_tasks_level ON tasks(required_level);
CREATE INDEX CONCURRENTLY idx_completions_user ON task_completions(user_address, status);

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
7.3 FRONTEND SCALABILITY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PERFORMANCE:
âœ“ Next.js Image Optimization (IPFS â†’ Vercel CDN)
âœ“ React Query caching (reduce API calls)
âœ“ Virtual scrolling for task lists (react-window)
âœ“ Lazy load NFT images (Intersection Observer)
âœ“ Static generation for landing page

CDN STRATEGY:
- IPFS images â†’ Cloudflare IPFS gateway (faster)
- Static assets â†’ Vercel Edge Network
- API calls â†’ Direct to backend (no CDN)

MOBILE OPTIMIZATION:
- Responsive design (TailwindCSS)
- WalletConnect for mobile wallets
- Progressive Web App (PWA) support

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
8. SECURITY REQUIREMENTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
8.1 SMART CONTRACT SECURITY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

AUDIT CHECKLIST:
â˜ Reentrancy protection on evolve()
â˜ Integer overflow/underflow (Solidity 0.8+ safe)
â˜ Access control testing (only authorized roles)
â˜ Signature replay prevention (nonce + deadline)
â˜ Gas limit attacks (no unbounded loops)
â˜ Front-running mitigation (EIP-712 signatures)

TESTING COVERAGE:
- Unit tests: >95% line coverage
- Integration tests: Full mint â†’ evolve flow
- Fuzz testing: Random inputs (Foundry invariants)
- Upgrade tests: State preservation (if using proxy)

TOOLS:
âœ“ Slither (static analysis)
âœ“ Mythril (symbolic execution)
âœ“ Foundry fuzz testing
âœ“ Manual audit (pre-mainnet)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
8.2 BACKEND SECURITY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

KEY MANAGEMENT:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Secret                  â”‚ Storage Method                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Signer private key      â”‚ AWS Secrets Manager (rotated weekly) â”‚
â”‚ Database password       â”‚ Environment variable (encrypted)     â”‚
â”‚ API keys (Replicate)    â”‚ Secrets Manager                      â”‚
â”‚ JWT signing key         â”‚ Secrets Manager                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

API SECURITY:
âœ“ Rate limiting (per IP + per user)
âœ“ Input validation (Zod schemas)
âœ“ SQL injection prevention (parameterized queries)
âœ“ XSS prevention (sanitize user inputs)
âœ“ CORS whitelist (frontend domain only)
âœ“ HTTPS only (SSL certificates)

SIGNATURE SECURITY:
- Deadline enforcement (max 15 minutes)
- Nonce incrementation (prevent replay)
- Domain separator verification
- Signature used once (mark in DB)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
8.3 FRONTEND SECURITY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

WALLET SECURITY:
âœ“ Never request private keys
âœ“ Use standard wallet connectors (RainbowKit)
âœ“ Clear signature messages (readable permit data)
âœ“ Transaction simulation before signing

DATA VALIDATION:
âœ“ Validate contract responses (Zod)
âœ“ Sanitize user uploads (images)
âœ“ CSP headers (Content Security Policy)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
9. DEPLOYMENT STRATEGY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
9.1 SMART CONTRACT DEPLOYMENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

NETWORKS:
1. Local Development: Anvil (Foundry)
2. Testnet: Monad Testnet
3. Mainnet: Monad Mainnet (post-hackathon)

DEPLOYMENT SCRIPT:

FILE: scripts/deploy.ts

import { createWalletClient, http } from 'viem';
import { privateKeyToAccount } from 'viem/accounts';
import { monadTestnet } from './chains';

async function main() {
  const account = privateKeyToAccount(process.env.DEPLOYER_KEY);
  const client = createWalletClient({
    account,
    chain: monadTestnet,
    transport: http(),
  });

  // Deploy contract
  const hash = await client.deployContract({
    abi: ELEMENTAL_SOULS_ABI,
    bytecode: BYTECODE,
    args: [process.env.SIGNER_ADDRESS], // Initial signer
  });

  const receipt = await client.waitForTransactionReceipt({ hash });
  const contractAddress = receipt.contractAddress;

  console.log('âœ… Deployed to:', contractAddress);

  // Verify on block explorer
  await verifyContract(contractAddress, [process.env.SIGNER_ADDRESS]);
}

VERIFICATION:
forge verify-contract \
  --chain-id <monad-chain-id> \
  --compiler-version 0.8.24 \
  --constructor-args $(cast abi-encode "constructor(address)" $SIGNER_ADDRESS) \
  $CONTRACT_ADDRESS \
  src/ElementalSouls.sol:ElementalSouls

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
9.2 BACKEND DEPLOYMENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

HOSTING: Railway / Render / AWS ECS

ENVIRONMENT VARIABLES:
# Contract
CONTRACT_ADDRESS=0x...
MONAD_RPC_URL=https://...
SIGNER_PRIVATE_KEY=0x...

# Database
DATABASE_URL=postgresql://...
REDIS_URL=redis://...

# Services
REPLICATE_API_TOKEN=r8_...
NFT_STORAGE_KEY=eyJhbGc...
JWT_SECRET=...

# Config
NODE_ENV=production
PORT=3000

DOCKER SETUP:

FILE: backend/Dockerfile

FROM node:20-alpine
WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000
CMD ["node", "dist/server.js"]

DOCKER COMPOSE (for local dev):

version: '3.8'
services:
  api:
    build: ./backend
    ports:
      - "3000:3000"
    environment:
      DATABASE_URL: postgresql://postgres:password@db:5432/elemental
      REDIS_URL: redis://redis:6379
    depends_on:
      - db
      - redis

  db:
    image: postgres:16-alpine
    environment:
      POSTGRES_DB: elemental
      POSTGRES_PASSWORD: password
    volumes:
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:7-alpine

volumes:
  postgres_data:

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
9.3 FRONTEND DEPLOYMENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

HOSTING: Vercel (recommended for Next.js)

ENVIRONMENT VARIABLES:
NEXT_PUBLIC_CONTRACT_ADDRESS=0x...
NEXT_PUBLIC_MONAD_RPC=https://...
NEXT_PUBLIC_WALLETCONNECT_ID=...
NEXT_PUBLIC_API_URL=https://api.elementalsouls.xyz

DEPLOYMENT:
vercel --prod

CUSTOM DOMAIN:
- Add domain in Vercel settings
- Configure DNS: CNAME â†’ cname.vercel-dns.com

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
10. TIMELINE & MILESTONES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

HACKATHON TIMELINE (4 weeks):

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WEEK 1: Foundation                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Days 1-2: Smart Contract Development                                      â”‚
â”‚   â˜ Write ElementalSouls.sol                                              â”‚
â”‚   â˜ Write Foundry tests (>90% coverage)                                   â”‚
â”‚   â˜ Deploy to Monad testnet                                               â”‚
â”‚   â˜ Verify on block explorer                                              â”‚
â”‚                                                                            â”‚
â”‚ Days 3-4: Backend Setup                                                   â”‚
â”‚   â˜ Initialize Fastify project                                            â”‚
â”‚   â˜ Setup PostgreSQL schema                                               â”‚
â”‚   â˜ Implement EIP-712 signer service                                      â”‚
â”‚   â˜ Create auth endpoints (SIWE)                                          â”‚
â”‚                                                                            â”‚
â”‚ Days 5-7: Frontend Foundation                                             â”‚
â”‚   â˜ Next.js project setup                                                 â”‚
â”‚   â˜ Integrate wagmi + RainbowKit                                          â”‚
â”‚   â˜ Build landing page                                                    â”‚
â”‚   â˜ Build mint interface                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WEEK 2: Core Features                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Days 8-10: Task System                                                    â”‚
â”‚   â˜ Create task database schema                                           â”‚
â”‚   â˜ Implement task verification logic                                     â”‚
â”‚   â˜ Build task submission API                                             â”‚
â”‚   â˜ Seed 20+ initial tasks                                                â”‚
â”‚                                                                            â”‚
â”‚ Days 11-14: Evolution Pipeline                                            â”‚
â”‚   â˜ Integrate Replicate API                                               â”‚
â”‚   â˜ Build prompt generation logic                                         â”‚
â”‚   â˜ Implement IPFS upload service                                         â”‚
â”‚   â˜ Create evolution request endpoint                                     â”‚
â”‚   â˜ Test full evolve flow (task â†’ AI â†’ signature â†’ blockchain)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WEEK 3: Integration & Polish                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Days 15-17: Frontend Completion                                           â”‚
â”‚   â˜ Build dashboard (NFT viewer + stats)                                  â”‚
â”‚   â˜ Build task list UI                                                    â”‚
â”‚   â˜ Build evolution interface                                             â”‚
â”‚   â˜ Add loading states & animations                                       â”‚
â”‚                                                                            â”‚
â”‚ Days 18-21: End-to-End Testing                                            â”‚
â”‚   â˜ Test full user journey (mint â†’ tasks â†’ evolve x3)                    â”‚
â”‚   â˜ Fix bugs and edge cases                                               â”‚
â”‚   â˜ Optimize gas costs                                                    â”‚
â”‚   â˜ Performance testing (100+ concurrent users)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WEEK 4: Launch Preparation                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Days 22-24: Security & Audit                                              â”‚
â”‚   â˜ Run Slither + Mythril on contract                                     â”‚
â”‚   â˜ Penetration testing on backend                                        â”‚
â”‚   â˜ Fix critical/high severity issues                                     â”‚
â”‚   â˜ Prepare security documentation                                        â”‚
â”‚                                                                            â”‚
â”‚ Days 25-26: Documentation & Demo                                          â”‚
â”‚   â˜ Write README with setup instructions                                  â”‚
â”‚   â˜ Create demo video (5 min)                                             â”‚
â”‚   â˜ Prepare pitch deck                                                    â”‚
â”‚   â˜ Deploy to production                                                  â”‚
â”‚                                                                            â”‚
â”‚ Days 27-28: Buffer & Submission                                           â”‚
â”‚   â˜ Final testing on production                                           â”‚
â”‚   â˜ Submit to hackathon                                                   â”‚
â”‚   â˜ Announce on social media                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DELIVERABLES CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SMART CONTRACT:
â˜ ElementalSouls.sol (audited, verified)
â˜ Foundry test suite (>90% coverage)
â˜ Deployment scripts
â˜ Contract interaction documentation

BACKEND:
â˜ Fastify API server (Dockerized)
â˜ PostgreSQL database (with seed data)
â˜ EIP-712 signer service
â˜ Task verification system
â˜ AI image generation pipeline
â˜ IPFS upload service
â˜ API documentation (Swagger)

FRONTEND:
â˜ Next.js web app (Vercel deployed)
â˜ Landing page
â˜ Mint interface
â˜ Dashboard
â˜ Task system UI
â˜ Evolution interface
â˜ Mobile responsive

DOCUMENTATION:
â˜ README.md (setup + usage)
â˜ ARCHITECTURE.md (system design)
â˜ API.md (endpoint docs)
â˜ SECURITY.md (audit report)
â˜ Demo video (YouTube)

EXTRAS (Nice to Have):
â˜ Discord bot (NFT notifications)
â˜ Analytics dashboard (admin panel)
â˜ Leaderboard (top evolvers)
â˜ Referral system
â˜ Community voting (next elements)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
POST-HACKATHON ROADMAP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PHASE 1 (Month 1-2):
- Audit smart contract (CertiK/OpenZeppelin)
- Deploy to Monad mainnet
- Launch with 10,000 mints
- Add 50+ more tasks

PHASE 2 (Month 3-4):
- Introduce rare elements (Light, Shadow, Aether)
- Add PvP battles (rock-paper-scissors element mechanics)
- Staking rewards (earn tokens by holding max level NFTs)

PHASE 3 (Month 5-6):
- Cross-chain expansion (Base, Arbitrum)
- NFT marketplace integration
- DAO governance (community votes on new features)

PHASE 4 (Month 7+):
- Mobile app (React Native)
- AR integration (view your soul in real world)
- Metaverse integration (use NFTs as avatars)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ADDITIONAL RESOURCES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MONAD RESOURCES:
- Docs: https://docs.monad.xyz
- Testnet faucet: https://faucet.monad.xyz
- RPC endpoint: <from official docs>
- Block explorer: <from official docs>

DEVELOPMENT TOOLS:
- Foundry: https://book.getfoundry.sh
- wagmi: https://wagmi.sh
- Replicate: https://replicate.com/docs
- NFT.Storage: https://nft.storage/docs
- Viem: https://viem.sh

DESIGN INSPIRATION:
- Axie Infinity (evolution mechanics)
- Loot (composability)
- POAP (soulbound utility)
- Habitica (gamified tasks)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
END OF SPECIFICATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VERSION HISTORY:
v1.0 (2025-10-04) - Initial draft
v2.0 (2025-10-04) - Revised with scalability + detailed implementations

This specification is living document. Update as project evolves.

For questions or clarifications, contact: <your-contact>
